# factory method pattern

태그: 디자인패턴
CS 주제: [3주차] 디자인패턴 (https://www.notion.so/3-d4384722e3ef47a3bfbb7de851960b49?pvs=21)
날짜: 2023년 8월 12일
블로그 게시: Yes
완료: Yes
작성자: 김지연
참고자료: https://refactoring.guru/ko/design-patterns/factory-method

> 팩토리 메서드란?
> 

부모 클래스에서 객체들을 생성할 수 있는 인터페이스를 제공하지만, 자식 클래스들이 생성될 객체의 유형을 변경할 수 있도록 하는 패턴

a.k.a. 가상 생성자

> 분류
> 

생성 패턴

> 구조
> 

1. **제품**product은 **인터페이스**를 선언한다. 인터페이스는 생성자와 자식 클래스들이 생성할 수 있는 모든 객체에 공통.

2. **구상 제품**concrete product들은 제품 인터페이스의 다양한 구현임.

3. **크리에이터 클래스**는 새로운 제품 객체들을 반환하는 팩토리 메서드를 선언함.

☆ 중요한 점은, 이 팩토리 메서드의 반환 유형이 **제품 인터페이스와 일치**해야 함

- 팩토리 메서드를 abstract로 선언하여 모든 자식 클래스가 메서드의 자체 버전을 구현하도록 강제할 수 있음
- 기초 팩토리 메서드가 디폴트 제품 유형을 반환하도록 만들수도 있음
- 크리에이터 클래스가 반드시 제품을 생성하지는 않음. → 팩토리 메서드는 이 로직을 구상제품 클래스로부터 디커플링 하는 데 도움을 줄 뿐이다.

4. 구상 크리에이터concrete creator들은 기초 팩토리 메서드를 오버라이드(재정의)하여 다른 유형의 제품을 반환

- 팩토리 메서드는 항상 새로운 인스턴스를 생성할 필요는 없음.
- 기존 객체들을 캐시, 객체 풀, 또는 다른 소스로부터 반환할 수 있음

> 활용도
> 

1) 함께 작동해야 하는 객체의 정확한 유형과 의존관계를 미리 알지 못하는 경우 사용

→ 제품 생성 코드를 실제 사용 코드와 분리.

→ 새로운 크리에이터 자식 클래스를 생성한 후 해당 클래스 내부의 팩토리 메서드를 오버라이딩만 하면 됨

2) 라이브러리 또는 프레임워크 사용자들에게 내부 컴포넌트들을 확장하는 방법을 제공할 때

→ 프레임워크 전체에서 컴포넌트를 생성하는 코드를 단일 팩토리 메서드로 줄인 후, 누구나 팩토리 메서드를 오버라이드할 수 있게함

3) 기존 객체를 매번 재구축하는 대신 이를 재사용하여 시스템 리소스 절약할 때

> 장점
> 
- 크리에이터와 구상 제품들이 단단하게 결합되지 않도록 할 수 있다
- **단일 책임 원칙을** 따름
- **개방/폐쇄 원칙을** 따름

> 단점
> 
- 패턴을 구현하기 위해 많은 새로운 자식 클래스들을 도입해야 하므로 **코드가 더 복잡**해질 수 있음

→ 크리에이터 클래스들의 기존 계층 구조에 패턴을 도입하면 좋음

> 파이썬에서 구현
> 
- 코드에 **높은 수준의 유연성**을 제공해야 할 때 유용

내용출처

[https://refactoring.guru/ko/design-patterns/factory-method](https://refactoring.guru/ko/design-patterns/factory-method)