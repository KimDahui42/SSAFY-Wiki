# μ–΄λ‘ν„° ν¨ν„΄

νƒκ·Έ: λ””μμΈν¨ν„΄
CS μ£Όμ :  [2μ£Όμ°¨] λ””μμΈν¨ν„΄ (https://www.notion.so/2-a262137b3eba4db79de885eca3e85e38?pvs=21)
λ‚ μ§: 2023λ…„ 8μ›” 7μΌ
λΈ”λ΅κ·Έ κ²μ‹: No
μ™„λ£: Yes
μ‘μ„±μ: sun
μ°Έκ³ μλ£: https://hyeinisfree.tistory.com/85, https://inpa.tistory.com/entry/GOF-%F0%9F%92%A0-%EC%96%B4%EB%8C%91%ED%84%B0Adaptor-%ED%8C%A8%ED%84%B4-%EC%A0%9C%EB%8C%80%EB%A1%9C-%EB%B0%B0%EC%9B%8C%EB%B3%B4%EC%9E%90, https://jusungpark.tistory.com/22, https://thalals.tistory.com/370, https://velog.io/@juunini/%EB%A0%88%EA%B1%B0%EC%8B%9C-%EC%BD%94%EB%93%9CLegacy-code, https://wellsw.tistory.com/240
μ¶μ„: 230807 μ¶μ„ (https://www.notion.so/230807-e69f8e83c06c4b238938f08f419c73c7?pvs=21)

# μ–΄λ‘ν„° ν¨ν„΄

![Untitled](%E1%84%8B%E1%85%A5%E1%84%83%E1%85%A2%E1%86%B8%E1%84%90%E1%85%A5%20%E1%84%91%E1%85%A2%E1%84%90%E1%85%A5%E1%86%AB%2052df192df8da44d9b08b7930a82a2b73/Untitled.png)

<aside>
π“Ά **μ–΄λ‘ν„° ν¨ν„΄ (Adapter pattern)**

ν• ν΄λμ¤μ μΈν„°νμ΄μ¤λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—μ„ μ‚¬μ©ν•κ³ μ ν•λ” λ‹¤λ¥Έ μΈν„°νμ΄μ¤λ΅ λ³€ν™ν•¨

(μ„λ΅ λ‹¤λ¥Έ μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•  μ μλ„λ΅ λ°”κΏ”μ¤μΌλ΅μ¨ κΈ°μ΅΄ μ½”λ“λ¥Ό μ¬μ‚¬μ©)  

</aside>

![Untitled](%E1%84%8B%E1%85%A5%E1%84%83%E1%85%A2%E1%86%B8%E1%84%90%E1%85%A5%20%E1%84%91%E1%85%A2%E1%84%90%E1%85%A5%E1%86%AB%2052df192df8da44d9b08b7930a82a2b73/Untitled%201.png)

Ex > 

κΈ°μ΅΄ μ‹μ¤ν… : 110V μ „μ› μ†μΌ“

μ‚¬μ©ν•  ν΄λμ¤ : 220V λƒ‰μ¥κ³  ν”λ¬κ·Έ

κ°μ²΄ μ§€ν–¥ μ–΄λ‘ν„° : 110V to 220V μ–΄λ‘ν„°

### νΈμ¶ κ³Όμ •

![Untitled](%E1%84%8B%E1%85%A5%E1%84%83%E1%85%A2%E1%86%B8%E1%84%90%E1%85%A5%20%E1%84%91%E1%85%A2%E1%84%90%E1%85%A5%E1%86%AB%2052df192df8da44d9b08b7930a82a2b73/Untitled%202.png)

β‡’ Clientκ°€ target μΈν„°νμ΄μ¤λ¥Ό νΈμ¶ν•λ” κ²ƒμ²λΌ  λ³΄μ΄μ§€λ§, Clientμ μ”μ²­μ„ μ „λ‹¬ λ°›μ€ (=Target μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•) Adapterλ” μμ‹ μ΄ κ°μ‹Έκ³  μλ” Adapteeμ—κ² μ‹¤μ§μ  μ²λ¦¬λ¥Ό μ„μ„ν•¨ 

### νΉμ§•

- μ–΄λ‘ν„°λ¥Ό μ΄μ©ν•λ©΄ μΈν„°νμ΄μ¤ νΈν™μ„±μΌλ΅ ***ν•¨κ» μ‚¬μ©ν•  μ μ—†λ” ν΄λμ¤λ“¤λ„ μ—°κ²°ν•΄μ„ μ‚¬μ© κ°€λ¥***
- κΈ°μ΅΄ μ‹μ¤ν…μ μμ •λ³΄λ‹¤λ”, μ–΄λ‘ν„°λ¥Ό ν™μ©ν•μ—¬ μ μ—°ν• ν•΄κ²°μ„ μ§€ν–¥!!

### μ‚¬μ© Case

- μ™Έλ¶€ κµ¬μ„± μ”μ†λ¥Ό κΈ°μ΅΄ μ‹μ¤ν…μ— μ¬μ‚¬μ© ν•κ³  μ‹¶μ§€λ§ νΈν™λμ§€ μ•λ” κ²½μ°
- μ–΄ν”λ¦¬μΌ€μ΄μ…μ΄ ν΄λΌμ΄μ–ΈνΈκ°€ κΈ°λ€ν•λ” μΈν„°νμ΄μ¤μ™€ νΈν™λμ§€ μ•λ” κ²½μ°
- μ›λ³Έ μ½”λ“λ¥Ό μμ •ν•μ§€ μ•κ³  μ–΄ν”λ¦¬μΌ€μ΄μ…μ—μ„ λ κ±°μ‹ μ½”λ“λ¥Ό μ¬μ‚¬μ© ν•λ ¤λ” κ²½μ°
    - λ κ±°μ‹ μ½”λ“
        
        λ‹¤λ¥Έ μ‚¬λμΌλ΅λ¶€ν„° μƒμ†λ μ†μ¤ μ½”λ“ / μ΄μ „ λ²„μ „μ μ†ν”„νΈμ›¨μ–΄μ—μ„ μƒμ†λ μ†μ¤ μ½”λ“  
        

**β€μ™β€ μ“°λ”κ°€ ?**

β‡’ λ‘ κ°μ μΈν„°νμ΄μ¤μ νΈν™ λ¬Έμ λΌλ©΄ ν•λ‚λ¥Ό λ°”κΎΈλ©΄ λμ§€ μ•λ‚μ”?

> νΈν™μ„±μ„ μ„ν•΄ λ³€κ²½μ„ ν•λ‹¤κ°€ ν•΄λ‹Ή λ³€κ²½μΌλ΅ μΈν•΄ Adaptee μ½μ—μ„ λΌμ΄λΈλ¬λ¦¬ or λ²¤λ” μ‹μ¤ν… μΌλ¶€ νΉμ€ μ „μ²΄κ°€ λ³€ν•λ  μ μμ
> 

> νΉμ • μΈν„°νμ΄μ¤λ¥Ό μμ •ν•κ³ , μ΄μ— μν–¥ λ°›λ” λ¶€λ¶„μ„ μμ •ν•λ‹¤ λ³΄λ©΄ μκΈ°μΉ λ»ν• μ¤λ¥μ μ›μΈμ΄ λ  μ μμ
> 

### μμ‹

![Target = Fighter / Adaptor = WizardAdapter / Adaptee = Wizard](%E1%84%8B%E1%85%A5%E1%84%83%E1%85%A2%E1%86%B8%E1%84%90%E1%85%A5%20%E1%84%91%E1%85%A2%E1%84%90%E1%85%A5%E1%86%AB%2052df192df8da44d9b08b7930a82a2b73/Untitled%203.png)

Target = Fighter / Adaptor = WizardAdapter / Adaptee = Wizard

- WizardAdapter : Fighter ν΄λμ¤λ¥Όμƒμ†λ°›μΌλ©°, Wizardλ¥Όλ©¤λ²„λ³€μλ΅ κ°€μ§
- Fighterμ attack(), defend(), escape() νΈμ¶λλ©΄ β‡’ Wizardμ shot_fire_ball(), shield(), portal() μ„ νΈμ¶ν•λ©΄ λ¨
- Wizard ν΄λμ¤κ°€ μ¶”κ°€ν–μ§€λ§, μ½”λ“μ λ³€κ²½μ—†μ΄ WizardAdapter ν΄λμ¤λ¥Ό μ¶”κ°€ν•¨μΌλ΅μ¨ κΈ°μ΅΄ μ‹μ¤ν…κ³Ό λ™μΌν• μΈν„°νμ΄μ¤λ΅  Wizard μ‚¬μ© κ°€λ¥
- κ°μ²΄ μ§€ν–¥ 5λ€ μ›μΉ™ μ¤‘ OCP μ›μΉ™(κ°λ°© νμ‡„ μ›μΉ™) μ¶©μ‹¤ν μ΄ν–‰

```python
from abc import ABC, abstractmethod

class Fighter(ABC):
    @abstractmethod
    def attack(self): pass

    @abstractmethod
    def defend(self): pass

    @abstractmethod
    def escape(self): pass

class Warrior(Fighter):
    def attack(self):
        print('μΉΌμ„ νλ‘λ¥΄λ‹¤')

    def defend(self):
        print('λ°©ν¨λ¥Ό λ“¤μ–΄μ¬λ‹λ‹¤')

    def escape(self):
        print('λ’¤λ΅ λ¬Όλ¬λ‚λ‹¤')

class WizardAdapter(Fighter):
    def __init__(self, wizard):
        self.wizard = wizard

    def attack(self):
        self.wizard.shot_fire_ball()

    def defend(self):
        self.wizard.shield()

    def escape(self):
        self.wizard.portal()

class Wizard:
    def shot_fire_ball(self):
        print('νμ΄μ–΄λ³Ό λ°μ‚¬')

    def shield(self):
        print('μ£Όλ³€μ— λ³΄νΈλ§‰ μ”μ°κΈ°')

    def portal(self):
        print('ν¬νƒ μ—΄κ³  μ΄λ™')

wizard = WizardAdapter(Wizard())
wizard.attack()                    # νμ΄μ–΄λ³Ό λ°μ‚¬
wizard.defend()                    # μ£Όλ³€μ— λ³΄νΈλ§‰ μ”μ°κΈ°
wizard.escape()                    # ν¬νƒ μ—΄κ³  μ΄λ™
```

## μ–΄λ‘ν„° μΆ…λ¥ (μƒμ† vs ν•©μ„±)

### κ°μ²΄ μ–΄λ‘ν„°

![Untitled](%E1%84%8B%E1%85%A5%E1%84%83%E1%85%A2%E1%86%B8%E1%84%90%E1%85%A5%20%E1%84%91%E1%85%A2%E1%84%90%E1%85%A5%E1%86%AB%2052df192df8da44d9b08b7930a82a2b73/Untitled%204.png)

- Composition(ν•©μ„±)λ λ©¤λ²„μ—κ² μ„μ„μ„ μ΄μ©ν• μ–΄λ‘ν„° ν¨ν„΄
- μ„μ„ : μμ‹ μ΄ ν•  μΌμ„ ν΄λμ¤ λ©¤λ²„ κ°μ²΄μ λ©”μ†λ“μ—κ² λ‹¤μ‹ μ‹ν‚΄μΌλ΅μ¨ λ©μ μ„ λ‹¬μ„±ν•λ” κ²ƒ
- ν•©μ„±μ„ μ΄μ© β‡’ λ°νƒ€μ„ μ¤‘ Adapteeκ°€ κ²°μ • (μ μ—°ν•¨!)
- But, Adaptee κ°μ²΄λ¥Ό ν•„λ“ λ³€μλ΅ μ €μ¥ν•΄μ•Όλλ―€λ΅ κ³µκ°„ μ°¨μ§€ λΉ„μ©μ΄ λ°μƒ

### ν΄λμ¤ μ–΄λ‘ν„°

![Untitled](%E1%84%8B%E1%85%A5%E1%84%83%E1%85%A2%E1%86%B8%E1%84%90%E1%85%A5%20%E1%84%91%E1%85%A2%E1%84%90%E1%85%A5%E1%86%AB%2052df192df8da44d9b08b7930a82a2b73/Untitled%205.png)

- ν΄λμ¤ μƒμ†μ„ μ΄μ©ν• μ–΄λ‘ν„° ν¨ν„΄
- Adapteeλ¥Ό μƒμ†ν–κΈ° λ•λ¬Έμ— λ”°λ΅ κ°μ²΄ κµ¬ν„ μ—†μ΄ μ½”λ“ μ¬μ‚¬μ©μ΄ κ°€λ¥
- κΈ°μ΅΄μ— κµ¬ν„λ μ½”λ“λ¥Ό μ¬μ‚¬μ©ν•λ” λ€ν‘μ μΈ λ°©μ‹μ΄μ§€λ§, Javaμ—μ„λ” λ‹¤μ¤‘ μƒμ†μ΄ λ¶κ°€ν•λ―€λ΅ κ¶μ¥ν•μ§€ μ•μ